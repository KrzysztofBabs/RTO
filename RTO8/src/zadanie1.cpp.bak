#include <Arduino.h>

TaskHandle_t taskHandle;



void TaskGeneratorLiczb(void *a){
  uint32_t licznik=0;
  uint32_t value;
  for(;;){
    
   
   xTaskNotify(taskHandle,licznik,eIncrement);
   vTaskDelay(200);
    
    
  }
  
}


void TaskConsumer(void *a){
  uint32_t value;

 
  for(;;){

    
    value=ulTaskNotifyTake(pdFALSE,portMAX_DELAY);
    //pdfalse do generatora zwraca wartosc o 1

   

    Serial.println(value);
    vTaskDelay(400);

    
  }
  


}



void setup(){
  Serial.begin(9600);
  xTaskCreate(TaskConsumer,"TC",2048,NULL,1,&taskHandle);
  xTaskCreate(TaskGeneratorLiczb,"TGL",2048,NULL,1,NULL);
  
  
}

void loop(){
  
}

