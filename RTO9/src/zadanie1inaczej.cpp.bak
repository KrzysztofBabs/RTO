#include <Arduino.h>
#include "freertos/FreeRTOS.h"
#include "freertos/timers.h"

const int lampkaPin=32;
const int przyciskPin=33;

TimerHandle_t timer;

void vBlinkCallback(TimerHandle_t xTimer){
  (void)xTimer;
  digitalWrite(lampkaPin,!digitalRead(lampkaPin));


}




void setup(){
  Serial.begin(9600);

pinMode(lampkaPin,OUTPUT);
pinMode(przyciskPin,INPUT_PULLUP);

timer=xTimerCreate("t",pdMS_TO_TICKS(2000),pdTRUE,nullptr,vBlinkCallback);


 
}



void loop(){
  

  
  int aktualny=digitalRead(przyciskPin);

  if(aktualny==LOW){

    Serial.println("jajco");
      
     
      if(xTimerIsTimerActive(timer)){
        xTimerStop(timer,0);
        digitalWrite(lampkaPin,LOW);
      }
      else
      {
        xTimerStart(timer, 0);
      }
      
    

  }
  
  delay(50);
  
  


  
}

