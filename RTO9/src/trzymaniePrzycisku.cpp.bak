#include <Arduino.h>
#include "freertos/FreeRTOS.h"
#include "freertos/timers.h"

const int lampkaPin=32;
const int przyciskPin=33;


TimerHandle_t timer;

// void vBlinkCallback(TimerHandle_t xTimer){
//     (void)xTimer;
//     digitalWrite(lampkaPin,!digitalRead(lampkaPin));

// }


void taskLampka(void *a){

    for(;;){
    int aktualny=digitalRead(przyciskPin);
    if(aktualny==LOW){
        digitalWrite(lampkaPin,HIGH);
    }
    if(aktualny==HIGH){
        digitalWrite(lampkaPin,LOW);

    }



    
    vTaskDelay(pdMS_TO_TICKS(100));

}

}



void setup(){
    Serial.begin(9600);

    pinMode(lampkaPin,OUTPUT);
    pinMode(przyciskPin,INPUT_PULLUP);

    // timer=xTimerCreate("t",pdMS_TO_TICKS(3000),pdTRUE,nullptr,vBlinkCallback);
    xTaskCreate(taskLampka, "TL", 2048, NULL, 1, NULL);




}


void loop(){

}